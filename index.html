<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Web Jual Beli Otomatis</title>
<style>
 body {
  margin: 0;
  font-family: Arial;
  background: url('https://ibb.co.com/wZcKVPY2.jpg') center/cover no-repeat fixed;
 }
 .overlay {
  backdrop-filter: blur(5px);
  min-height: 100vh;
  padding: 20px;
 }
 .card {
  background: rgba(255,255,255,0.85);
  padding: 20px;
  border-radius: 15px;
  max-width: 450px;
  margin: auto;
 }
 button {
  padding: 12px;
  width: 100%;
  border: none;
  border-radius: 10px;
  margin-top: 10px;
  font-size: 16px;
 }
 .hidden { display:none; }
 .popup {
  position: fixed;
  top: 50%; left: 50%; transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border-radius: 15px;
  width: 90%; max-width: 400px;
  display:none;
 }
</style>
</head>
<body>
<audio id="music" src="music.mp3" autoplay loop></audio>

<div class="overlay">
 <div class="card" id="login">
  <h2>Masukkan Nama</h2>
  <input id="namaInput" placeholder="Nama Anda" style="width:100%;padding:10px;border-radius:10px;border:1px solid #999;">
  <button onclick="masuk()">Masuk</button>
 </div>

 <div class="card hidden" id="produkPage">
  <h2>Pilih Produk</h2>
  <div>
   <label><input type="checkbox" class="produk" data-harga="10000" value="Produk A"> Produk A - 10.000</label><br>
   <label><input type="checkbox" class="produk" data-harga="20000" value="Produk B"> Produk B - 20.000</label><br>
   <label><input type="checkbox" class="produk" data-harga="30000" value="Produk C"> Produk C - 30.000</label><br>
  </div>
  <button id="btnLanjut" onclick="lanjut()">Lanjut Pilih Produk</button>
  <button id="btnPay" class="hidden" onclick="openPay()">Payment Disini</button>
 </div>
</div>

<div class="popup" id="popupPay">
 <h3>Payment</h3>
 <p>Pilih metode payment lalu transfer.</p>
 <select id="paySelect" style="width:100%;padding:10px;border-radius:10px;">
  <option value="DANA">DANA</option>
  <option value="QRIS">QRIS</option>
  <option value="GOPAY">GOPAY</option>
  <option value="BANK">BANK</option>
 </select>
 <button onclick="kirimWA()">Lanjut ke WhatsApp</button>
</div>

<script>
let namaUser = "";

function masuk(){
 const n = document.getElementById("namaInput").value.trim();
 if(!n) return alert("Nama wajib diisi");
 namaUser = n;
 document.getElementById("login").classList.add("hidden");
 setTimeout(()=>{
  document.getElementById("produkPage").classList.remove("hidden");
  document.getElementById("music").play();
 },700);
}

function lanjut(){
 document.getElementById("btnLanjut").classList.add("hidden");
 document.getElementById("btnPay").classList.remove("hidden");
}

function openPay(){
 document.getElementById("popupPay").style.display = "block";
}

function kirimWA(){
 let list = "";
 let total = 0;
 document.querySelectorAll('.produk:checked').forEach((p,i)=>{
  list += `${i+1}. ${p.value}%0Aharga: ${p.dataset.harga}%0A`;
  total += Number(p.dataset.harga);
 });
 const pay = document.getElementById("paySelect").value;
 const wa = "6281220568534";
 const msg = `halo kak, saya ingin membeli%0A`+
 `nama: ${namaUser}%0A`+
 `total harga: ${total}%0A`+
 `payment: ${pay}%0A`+
 `saya sudah transfer%0A`+
 `list produk:%0A${list}`;
 window.location.href = `https://wa.me/${wa}?text=${msg}`;
}
</script>

</body>
</html>
